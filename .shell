push_git() {
    if [ -z "$1" ]; then
        echo "❌ Error: Commit message required."
    else
        git add . && git commit -m "$1" && git push
    fi
}

tree_clean() {
    find . -type d \( -name node_modules -o -name dist -o -name build -o -name .git -o -name .next -o -name .cache -o -name coverage -o -name .vscode -o -name .idea -o -name venv -o -name .venv -o -name __pycache__ \) -prune -o -not -path '*/\.*' -print | sed -e 's;[^/]*/;|____;g;s;____|; |;g'
}

java_dir() {
    mkdir $1 && cd $1 && touch $1.java 
}

set_docker() {
    wget https://get.docker.com/rootless -O docker.sh
    chmod +x docker.sh
    ./docker.sh
    rm docker.sh
}

fix_docker() {
    export PATH="$HOME/bin:$PATH" 
    $HOME/bin/dockerd-rootless.sh > /tmp/dockerd.log 2>&1 &
    export DOCKER_HOST="unix:///run/user/$(id -u)/docker.sock"
}



alias push=push_git
alias tree=tree_clean
alias gg="go run ."
alias run="cargo run"
alias creat="cargo new"
alias ga="git add"
alias gc="git commit"
alias gp="git push"
alias gs="git status"
alias jv=java_dir
alias fd=fix_docker
alias sd=set_docker



